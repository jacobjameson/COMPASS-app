shiny::runApp()
install.packages('rdrop2')
devtools::install_github("karthik/rdrop2")
library(rdrop2)
library(shiny)
library(readr)
library(ggplot2)
runApp()
install.packages("flexdashboard")
install.packages("rio")
install.packages("here")
install.packages("plotly")
ageProp_Mean <- read_csv("data/Survivors vs Twins comparison files_absolute/abs_20231221/ageProp_Mean.csv")
ageProp_LB <- read_csv("data/Survivors vs Twins comparison files_absolute/abs_20231221/ageProp_LB.csv")
ageProp_Mean <- read_csv("data/Survivors vs Twins comparison files_absolute/abs_20231221/ageProp_Mean.csv")
ageProp_UB <- read_csv("data/Survivors vs Twins comparison files_absolute/abs_20231221/ageProp_UB.csv")
View(ageProp_Mean)
glimpse(ageProp_Mean)
glimpse(ageProp_Mean)
library(tidyverse)
glimpse(ageProp_Mean)
glimpse(ageProp_UB)
# Convert ageProp_Mean and ageProp_UB to long format
ageProp_Mean_long <- ageProp_Mean %>%
pivot_longer(cols = starts_with("prop_"), names_to = "Property", values_to = "Mean")
ageProp_UB_long <- ageProp_UB %>%
pivot_longer(cols = starts_with("prop_"), names_to = "Property", values_to = "UpperBound")
# Merge the datasets
combined_long <- left_join(ageProp_Mean_long, ageProp_UB_long, by = c("Group", "Outcome", "Property"))
View(combined_long)
names(ageProp_LB)
View(ageProp_LB)
View(ageProp_Mean)
combined_wide <- combined_long %>%
pivot_wider(names_from = "Property", values_from = c("Mean", "UpperBound"))
View(combined_wide)
View(ageProp_UB_long)
# Convert ageProp_Mean and ageProp_UB to long format
ageProp_Mean_long <- ageProp_Mean %>%
pivot_longer(cols = starts_with("prop_"),
names_to = "Property", values_to = "Mean") %>%
select(Group, Outcome, Property, Mean)
ageProp_UB_long <- ageProp_UB %>%
pivot_longer(cols = starts_with("prop_"),
names_to = "Property", values_to = "UpperBound") %>%
select(Group, Outcome, Property, UpperBound)
# Merge the datasets
combined_long <- left_join(ageProp_Mean_long, ageProp_UB_long, by = c("Group", "Outcome", "Property"))
View(combined_long)
ageProp_LB_long <- ageProp_LB %>%
pivot_longer(cols = starts_with("prop_"),
names_to = "Property", values_to = "LowerBound") %>%
select(Group, Outcome, Property, LowerBound)
# Merge the datasets
combined_long <- left_join(ageProp_Mean_long,
ageProp_UB_long, ageProp_LB_long,
by = c("Group", "Outcome", "Property"))
View(combined_wide)
# Merge the datasets
combined_long <- left_join(ageProp_Mean_long,
ageProp_UB_long,
ageProp_LB_long,
by = c("Group", "Outcome", "Property"))
ageProp_LB_long <- ageProp_LB %>%
pivot_longer(cols = starts_with("prop_"),
names_to = "Property", values_to = "LowerBound") %>%
select(Group, Outcome, Property, LowerBound)
# Merge the datasets
combined_long <- left_join(ageProp_Mean_long,
ageProp_UB_long,
ageProp_LB_long,
by = c("Group", "Outcome", "Property"))
View(ageProp_LB_long)
# Merge all 3 datasets
ageProp <- ageProp_Mean_long %>%
left_join(ageProp_UB_long, by = c("Group", "Outcome", "Property")) %>%
left_join(ageProp_LB_long, by = c("Group", "Outcome", "Property"))
View(ageProp)
twins_path <- "data/Survivors vs Twins comparison files_absolute/abs_20231221/"
################################################################################
# Ages -------------------------------------------------------------------------
read_and_pivot <- function(path, value_name) {
read_csv(paste0(twins_path, path)) %>%
pivot_longer(
cols = starts_with("prop_"),
names_to = "Property",
values_to = value_name
)
}
# Apply the function to each dataset and rename the values column appropriately
ageProp_Mean_long <- read_and_pivot("ageProp_Mean.csv", "Mean")
ageProp_UB_long <- read_and_pivot("ageProp_UB.csv", "UpperBound")
ageProp_LB_long <- read_and_pivot("ageProp_LB.csv", "LowerBound")
# Merge all datasets into one
ageProp <- reduce(list(ageProp_Mean_long,
ageProp_UB_long,
ageProp_LB_long),
left_join, by = c("Group", "Outcome", "Property"))
View(ageProp)
# Merge all datasets into one
ageProp <- reduce(list(ageProp_Mean_long,
ageProp_UB_long,
ageProp_LB_long),
inner_join, by = c("Group", "Outcome", "Property"))
################################################################################
# Ages -------------------------------------------------------------------------
read_and_pivot <- function(path, value_name) {
read_csv(paste0(twins_path, path)) %>%
select(-c("...103")) %>% # Remove unnecessary column
pivot_longer(
cols = starts_with("prop_"),
names_to = "Property",
values_to = value_name
)
}
# Apply the function to each dataset and rename the values column appropriately
ageProp_Mean_long <- read_and_pivot("ageProp_Mean.csv", "Mean")
ageProp_UB_long <- read_and_pivot("ageProp_UB.csv", "UpperBound")
ageProp_LB_long <- read_and_pivot("ageProp_LB.csv", "LowerBound")
# Merge all datasets into one
ageProp <- reduce(list(ageProp_Mean_long,
ageProp_UB_long,
ageProp_LB_long),
inner_join, by = c("Group", "Outcome", "Property"))
################################################################################
# Ages -------------------------------------------------------------------------
read_and_pivot <- function(path, value_name) {
read_csv(paste0(twins_path, path)) %>%
select(-c("...103")) %>% # Remove unnecessary column
pivot_longer(
cols = starts_with("prop_"),
names_to = "Property",
values_to = value_name
)
}
ageProp_Mean_long <- read_and_pivot("ageProp_Mean.csv", "Mean")
ageProp_UB_long <- read_and_pivot("ageProp_UB.csv", "UpperBound")
ageProp_LB_long <- read_and_pivot("ageProp_LB.csv", "LowerBound")
twins_path <- "data/Survivors vs Twins comparison files_absolute/abs_20231221/"
################################################################################
# Ages -------------------------------------------------------------------------
read_and_pivot <- function(path, value_name) {
read_csv(paste0(twins_path, path)) %>%
select(-c("...103")) %>% # Remove unnecessary column
pivot_longer(
cols = starts_with("prop_"),
names_to = "Property",
values_to = value_name
)
}
ageProp_Mean_long <- read_and_pivot("ageProp_Mean.csv", "Mean")
ageProp_UB_long <- read_and_pivot("ageProp_UB.csv", "UpperBound")
ageProp_LB_long <- read_and_pivot("ageProp_LB.csv", "LowerBound")
ageProp <- reduce(list(ageProp_Mean_long,
ageProp_UB_long,
ageProp_LB_long),
inner_join, by = c("Group", "Outcome", "Property"))
rm(ageProp_Mean_long, ageProp_UB_long, ageProp_LB_long)
cond <- read.csv(paste0(twins_path, "cond_Mean.csv")))
cond <- read.csv(paste0(twins_path, "cond_Mean.csv"))
View(cond)
cond_lb <- read.csv(paste0(twins_path, "cond_LB.csv"))
cond_mean <- read.csv(paste0(twins_path, "cond_Mean.csv"))
View(cond_lb)
cond_ub <- read.csv(paste0(twins_path, "cond_UB.csv"))
cond <- reduce(list(cond_mean, cond_lb, cond_ub),
inner_join, by = c("Group", "Age", "Outcome", "Condition"))
View(cond)
View(cond_mean)
cond_mean <- read.csv(paste0(twins_path, "cond_Mean.csv"))[,-6]
cond_lb <- read.csv(paste0(twins_path, "cond_LB.csv"))[,-6]
cond_ub <- read.csv(paste0(twins_path, "cond_UB.csv"))[,-6]
cond <- reduce(list(cond_mean, cond_lb, cond_ub),
inner_join, by = c("Group", "Age", "Outcome", "Condition"))
# write a function that reads in the cond datasets, drops the 6th column and renames value to either mean, lb or ub
read_and_pivot_cond <- function(path, value_name) {
read_csv(paste0(twins_path, path)) %>%
select(-c("X")) %>% # Remove unnecessary column
mutate(value_name = Value)
}
cond_mean_long <- read_and_pivot_cond("cond_Mean.csv", "Mean")
cond_mean <- read_and_pivot_cond("cond_Mean.csv", "Mean")
# write a function that reads in the cond datasets, drops the 6th column and renames value to either mean, lb or ub
read <- function(path, value_name) {
read_csv(paste0(twins_path, path)) %>%
select(-c("X")) %>% # Remove unnecessary column
mutate(value_name = Value)
}
cond_mean <- read("cond_Mean.csv", "Mean")
cond_lb <- read("cond_LB.csv", "LowerBound")
# write a function that reads in the cond datasets, drops the 6th column and renames value to either mean, lb or ub
read <- function(path, value_name) {
read_csv(paste0(twins_path, path)) %>%
mutate(value_name = Value)
}
cond_mean <- read("cond_Mean.csv", "Mean")
# write a function that reads in the cond datasets, drops the 6th column and renames value to either mean, lb or ub
read <- function(path, value_name) {
read_csv(paste0(twins_path, path)) %>%
rename(value_name = Value)
}
cond_mean <- read("cond_Mean.csv", "Mean")
# write a function that reads in the cond datasets, renames value to either mean, lb or ub
read <- function(path, value_name) {
read_csv(paste0(twins_path, path)) %>%
rename(Value = 'Mean')
}
cond_mean <- read("cond_Mean.csv", "Mean")
# write a function that reads in the cond datasets, renames value to either mean, lb or ub
read <- function(path, value_name) {
read_csv(paste0(twins_path, path)) %>%
rename('Mean' = Value)
}
cond_mean <- read("cond_Mean.csv", "Mean")
# write a function that reads in the cond datasets, renames value to either mean, lb or ub
read <- function(path, value_name) {
read_csv(paste0(twins_path, path)) %>%
rename(value_name = Value)
}
cond_mean <- read("cond_Mean.csv", "Mean")
# write a function that reads in the cond datasets, renames value to either mean, lb or ub
read <- function(path, value_name) {
read_csv(paste0(twins_path, path)) %>%
rename_with(~ value_name, .cols = "Value")
}
cond_mean <- read("cond_Mean.csv", "Mean")
cond_lb <- read("cond_LB.csv", "LowerBound")
cond_ub <- read("cond_UB.csv", "UpperBound")
# write a function that reads in the cond datasets, renames value to either mean, lb or ub
read <- function(path, value_name) {
read_csv(paste0(twins_path, path))[,-6] %>%
rename_with(~ value_name, .cols = "Value")
}
cond_mean <- read("cond_Mean.csv", "Mean")
cond_lb <- read("cond_LB.csv", "LowerBound")
cond_ub <- read("cond_UB.csv", "UpperBound")
cond <- reduce(list(cond_mean, cond_lb, cond_ub),
inner_join, by = c("Group", "Age", "Outcome", "Condition"))
cond_mean <- read("cond40_Mean.csv", "Mean")
cond_mean <- read("cond40_Mean.csv", "Mean")
cond_mean <- read_csv(paste0(twins_path, "cond40_Mean.csv")
)
View(cond_mean)
